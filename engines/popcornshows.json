{
  "version": 14,
  "name": "PopcornTime Shows",
  "home": {
    "get": "https://popcorntime.sh"
  },
  "news": {
    "get": "https://blog.popcorntime.sh",
    "list": "article",
    "title": ".post-title",
    "date": "time",
    "details": "a:regex(.*href=\"([^\"]*)\".*)"
  },
  "top": {
    "json_get": "tops",
    "js": "function fmt(s) {\n    if (s > 0.1 * 1024 * 1024 * 1024) {\n      var f = s / 1024 / 1024 / 1024;\n      return f.toFixed(1) + ' GB';\n    } else if (s > 0.1 * 1024 * 1024) {\n      var f = s / 1024 / 1024;\n      return f.toFixed(1) + 'MB';\n    } else {\n      var f = s / 1024;\n      return f.toFixed(1) + 'kb';\n    }\n};\nvar jj = JSON.parse(torrentclient.json());\nvar html = '';\nvar list = jj.MovieList;\nfor(var index in list) {\n  var item = list[index];\n  html += '<div class=\"movie\">\\n';\n  html += '  <h3 align=\"center\" class=\"title\">' + item.title + '</h3>\\n';\n  html += '  <div align=\"center\"><img class=\"poster\" src=\"' + item.poster_med.replace('https:', 'http:') + '\" /></div>\\n';\n  html += '  <div align=\"center\" class=\"genres\">';\n  var genres = item.genres;\n  for(var index in genres) {\n    var genre = genres[index].trim();\n    if (genre.length > 0) {\n      html += '<b>' + genre + ', </b>';\n    }\n  }\n  html += 'imdb: <a href=\"http://www.imdb.com/title/' + item.imdb + '\">' + item.rating + '/10</a> ';\n  html += '</div>';\n  html += '  <p align=\"justify\" class=\"description\">';\n  html += '<b>' + item.year + '</b> ';\n  html += item.description + '</p>\\n';\n  html += '  <div data-role=\"collapsibleset\" class=\"ui-content\" style=\"background-image:url(' + item.poster_big + ')\" imdb=\"http://api.apidomain.info/show?imdb=' + item.imdb + '\"></div>\\n';\n  html += '</div>\\n';\n};\nif(list.length > 0) {\n  page = (RegExp('page' + '=' + '(.+?)(&|$)').exec(location.href)||[,null])[1]\n  newpage = 'page=' + (parseInt(page,10)+1);\n  href = location.href.replace(/page=[^&]+/, newpage);\n  html += '<a class=\"next\" href=\"' + href + '\" /a>'\n}\ndocument.body.innerHTML=html;",
    "grid": "div.movie",
    "details_html": "regex((.*))",
    "details_head": "<meta name=\"viewport\" content=\"width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1\">\n<link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css\"> <script src=\"http://code.jquery.com/jquery-1.11.3.min.js\"></script><script src=\"http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js\"></script><style>.ui-collapsible-content, .ui-collapsible-heading, .ui-collapsible, .ui-btn, .ui-body-d {background: rgba(255, 255, 255, 0.2) !important;}</style>",
    "details_js": "function fmt(s) {\n    if (s > 0.1 * 1024 * 1024 * 1024) {\n      var f = s / 1024 / 1024 / 1024;\n      return f.toFixed(1) + ' GB';\n    } else if (s > 0.1 * 1024 * 1024) {\n      var f = s / 1024 / 1024;\n      return f.toFixed(1) + 'MB';\n    } else {\n      var f = s / 1024;\n      return f.toFixed(1) + 'kb';\n    }\n};\nfunction done(json) {\n  var jj = JSON.parse(json);\n  var html = '';\n  for(var index in jj) {\n    var item = jj[index];\n    html += '<div data-role=\"main\" class=\"ui-content\">\\n';\n    html += '  <div data-role=\"collapsible\">\\n';\n    html += '    <h1>Season ' + index + '</h1>\\n';\n    var season = ''\n    for(var index in item) {\n      var episode = item[index]\n      html += '    <div data-role=\"collapsible\">\\n';\n      html += '      <h1>' + index + ' - ' + episode.title + '</h1>\\n';\n      html += '      <b>Episode ' + index + '</b>\\n';\n      html += '      <p>' + episode.synopsis + '</p>\\n';\n      html += '        <div style=\"height:100px; display: inline-block; overflow:hidden; overflow-y:scroll;\">\\n';\n      var items = episode.items;\n      for(var index in items) {\n        var source = items[index];\n        html += '          <p>\\n';\n        html += '            <b class=\"quality\">' + source.quality + '</b>\\n';\n        html += '            / <span class=\"size\">' + fmt(source.size_bytes) + '</span>\\n';\n        html += '            / seed:<span class=\"seed\">' + source.torrent_seeds + '</span>\\n';\n        html += '            / <a class=\"magnet\" href=\"' + encodeURI(source.torrent_magnet) + '\">magnet</a>\\n';\n        html += '            / <a class=\"torrent\" href=\"' + encodeURI(source.torrent_url) + '\">torrent</a>\\n';\n        html += '          </p>\\n';\n      };\n      html += '      </div>\\n';\n      html += '    </div>\\n';\n    }\n    html += '  </div>\\n';\n    html += '</div>\\n';\n  };\n  $(\".ui-content\").html(html).collapsibleset(\"refresh\");\n}\nvar request = new XMLHttpRequest();\nrequest.onreadystatechange = function() {\n  if (request.readyState == 4 && request.status == 200)\n    done(request.responseText);\n}\nrequest.open(\"GET\", $('.ui-content').attr('imdb'), true);\nrequest.send(null);",
    "title": "h3",
    "image": ".poster:regex(.*src=\"([^\"]*)\".*)",
    "next": ".next:regex(.*href=\"([^\"]*)\".*)"
  },
  "tops": {
    "Home": "http://api.apidomain.info/shows?sort=seeds&count=15&page=1"
  },
  "search": {
    "json_get": "http://api.apidomain.info/shows?keywords=%s&sort=seeds&count=15&page=1",
    "js": "function fmt(s) {\n    if (s > 0.1 * 1024 * 1024 * 1024) {\n      var f = s / 1024 / 1024 / 1024;\n      return f.toFixed(1) + ' GB';\n    } else if (s > 0.1 * 1024 * 1024) {\n      var f = s / 1024 / 1024;\n      return f.toFixed(1) + 'MB';\n    } else {\n      var f = s / 1024;\n      return f.toFixed(1) + 'kb';\n    }\n};\nvar jj = JSON.parse(torrentclient.json());\nvar html = '';\nvar list = jj.MovieList;\nfor(var index in list) {\n  var item = list[index];\n  html += '<div class=\"movie\">\\n';\n  html += '  <h3 align=\"center\" class=\"title\">' + item.title + '</h3>\\n';\n  html += '  <div align=\"center\"><img class=\"poster\" src=\"' + item.poster_med.replace('https:', 'http:') + '\" /></div>\\n';\n  html += '  <div align=\"center\" class=\"genres\">';\n  var genres = item.genres;\n  for(var index in genres) {\n    var genre = genres[index].trim();\n    if (genre.length > 0) {\n      html += '<b>' + genre + ', </b>';\n    }\n  }\n  html += 'imdb: <a href=\"http://www.imdb.com/title/' + item.imdb + '\">' + item.rating + '/10</a> ';\n  html += '</div>';\n  html += '  <p align=\"justify\" class=\"description\">';\n  html += '<b>' + item.year + '</b> ';\n  html += item.description + '</p>\\n';\n  html += '  <div data-role=\"collapsibleset\" class=\"ui-content\" style=\"background-image:url(' + item.poster_big + ')\" imdb=\"http://api.apidomain.info/show?imdb=' + item.imdb + '\"></div>\\n';\n  html += '</div>\\n';\n};\nif(list.length > 0) {\n  page = (RegExp('page' + '=' + '(.+?)(&|$)').exec(location.href)||[,null])[1]\n  newpage = 'page=' + (parseInt(page,10)+1);\n  href = location.href.replace(/page=[^&]+/, newpage);\n  html += '<a class=\"next\" href=\"' + href + '\" /a>'\n}\ndocument.body.innerHTML=html;",
    "grid": "div.movie",
    "details_html": "regex((.*))",
    "details_head": "<meta name=\"viewport\" content=\"width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1\">\n<link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css\"> <script src=\"http://code.jquery.com/jquery-1.11.3.min.js\"></script><script src=\"http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js\"></script><style>.ui-collapsible-content, .ui-collapsible-heading, .ui-collapsible, .ui-btn, .ui-body-d {background: rgba(255, 255, 255, 0.2) !important;}</style>",
    "details_js": "function fmt(s) {\n    if (s > 0.1 * 1024 * 1024 * 1024) {\n      var f = s / 1024 / 1024 / 1024;\n      return f.toFixed(1) + ' GB';\n    } else if (s > 0.1 * 1024 * 1024) {\n      var f = s / 1024 / 1024;\n      return f.toFixed(1) + 'MB';\n    } else {\n      var f = s / 1024;\n      return f.toFixed(1) + 'kb';\n    }\n};\nfunction done(json) {\n  var jj = JSON.parse(json);\n  var html = '';\n  for(var index in jj) {\n    var item = jj[index];\n    html += '<div data-role=\"main\" class=\"ui-content\">\\n';\n    html += '  <div data-role=\"collapsible\">\\n';\n    html += '    <h1>Season ' + index + '</h1>\\n';\n    var season = ''\n    for(var index in item) {\n      var episode = item[index]\n      html += '    <div data-role=\"collapsible\">\\n';\n      html += '      <h1>' + index + ' - ' + episode.title + '</h1>\\n';\n      html += '      <b>Episode ' + index + '</b>\\n';\n      html += '      <p>' + episode.synopsis + '</p>\\n';\n      html += '        <div style=\"height:100px; display: inline-block; overflow:hidden; overflow-y:scroll;\">\\n';\n      var items = episode.items;\n      for(var index in items) {\n        var source = items[index];\n        html += '          <p>\\n';\n        html += '            <b class=\"quality\">' + source.quality + '</b>\\n';\n        html += '            / <span class=\"size\">' + fmt(source.size_bytes) + '</span>\\n';\n        html += '            / seed:<span class=\"seed\">' + source.torrent_seeds + '</span>\\n';\n        html += '            / <a class=\"magnet\" href=\"' + encodeURI(source.torrent_magnet) + '\">magnet</a>\\n';\n        html += '            / <a class=\"torrent\" href=\"' + encodeURI(source.torrent_url) + '\">torrent</a>\\n';\n        html += '          </p>\\n';\n      };\n      html += '      </div>\\n';\n      html += '    </div>\\n';\n    }\n    html += '  </div>\\n';\n    html += '</div>\\n';\n  };\n  $(\".ui-content\").html(html).collapsibleset(\"refresh\");\n}\nvar request = new XMLHttpRequest();\nrequest.onreadystatechange = function() {\n  if (request.readyState == 4 && request.status == 200)\n    done(request.responseText);\n}\nrequest.open(\"GET\", $('.ui-content').attr('imdb'), true);\nrequest.send(null);",
    "title": "h3",
    "image": ".poster:regex(.*src=\"([^\"]*)\".*)",
    "next": ".next:regex(.*href=\"([^\"]*)\".*)"
  }
}
